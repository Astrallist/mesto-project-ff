(()=>{"use strict";var t={baseUrl:"https://mesto.nomoreparties.co/v1/wff-cohort-21/cards",headers:{authorization:"c0209747-23dd-4fc1-a84e-60bef0930bc8","Content-Type":"application/json"}};function r(t){return 200==t.status?t.json():Promise.reject("Ошибка ".concat(t.status))}function e(){return fetch("".concat(t.baseUrl,"/cards"),{headers:t.headers}).then((function(t){return r(t)}))}var n={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};function o(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=Array(r);e<r;e++)n[e]=t[e];return n}e().then((function(t){})).catch((function(t){console.log(t)})),Promise.all([fetch("".concat(t.baseUrl,"/users/me"),{headers:t.headers}).then((function(t){return r(t)})),e()]).then((function(t){var r,e,n=(e=2,function(t){if(Array.isArray(t))return t}(r=t)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,a,i,s=[],u=!0,c=!1;try{if(a=(e=e.call(t)).next,0===r){if(Object(e)!==e)return;u=!1}else for(;!(u=(n=a.call(e)).done)&&(s.push(n.value),s.length!==r);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=e.return&&(i=e.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(r,e)||function(t,r){if(t){if("string"==typeof t)return o(t,r);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?o(t,r):void 0}}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=n[0],i=n[1];a._id,renderProfile(a),renderCards(i)})).catch((function(t){console.log(t)})),function(t){Array.from(document.querySelectorAll(t.formSelector)).forEach((function(r){!function(t,r){var e=Array.from(t.querySelectorAll(r.inputSelector)),n=t.querySelector(r.submitButtonSelector);e.forEach((function(o){o.addEventListener("input",(function(){!function(t,r,e){r.validity.patternMismatch?r.setCustomValidity(r.dataset.error):r.setCustomValidity(""),r.validity.valid?function(t,r,e){var n=t.querySelector(".".concat(r.id,"-error"));n&&(r.classList.remove(e.inputErrorClass),n.classList.remove(e.errorClass),n.textContent="")}(t,r,e):function(t,r,e){var n=t.querySelector(".".concat(r.id,"-error"));r.classList.add(e.inputErrorClass),n.textContent=r.validationMessage,n.classList.add(e.errorClass)}(t,r,e)}(t,o,r),function(t,r,e){!function(t){return t.some((function(t){return!t.validity.valid}))}(t)?(e.removeAttribute("disabled",!1),e.classList.remove(r.inactiveButtonClass)):(e.setAttribute("disabled",!0),e.classList.add(r.inactiveButtonClass))}(e,r,n)}))}))}(r,t)}))}(n),buttonNewCard.setAttribute("disabled",!0),buttonNewCard.classList.add(n.inactiveButtonClass)})();